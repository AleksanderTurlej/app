{% extends 'base.html.twig' %}

{% block title %}Medicine{% endblock %}

{% block body %}
    <h1>Medicine</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ medicine.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ medicine.name }}</td>
            </tr>
            <tr>
                <th>Price</th>
                <td>{{ medicine.price }}</td>
            </tr>
            <tr>
                <th>Weight</th>
                <td>{{ medicine.weight }}</td>
            </tr>
            <tr>
                <th>IsRecipeRequired</th>
                <td>{{ medicine.isRecipeRequired ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Disease</th>
                <td>
                    {% for user in medicine.diseases %}
                        <li>{{ user.name }}</li>
                    {% endfor %}
                </td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('medicine_index') }}">back to list</a><br />

    {% if app.user is defined and is_granted('ROLE_ADMIN') %}
    <a href="{{ path('medicine_edit', {'id': medicine.id}) }}">edit</a>
    {{ include('medicine/_delete_form.html.twig') }}
    {% endif %}

    <a href="{{ path('favourites_new', {'id': medicine.id}) }}">add to favourites</a><br />

    <a href="{{ path('opinion_new', {'id': medicine.id}) }}">add comment</a><br /> <br /> <br />


    <div class="opinion"> Opinie
        {% for opinion in medicine.opinions %}
            <hr>
            <div>User: {{ opinion.user.nick }}</div>
            <div>Rating: {{ opinion.rating }}</div>
            <div>{{ opinion.content }}</div>
        {% endfor %}
    </div>




{% endblock %}
